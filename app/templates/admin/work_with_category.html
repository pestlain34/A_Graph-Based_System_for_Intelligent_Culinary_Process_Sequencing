{% extends 'base.html' %}
{% block title %}
Работа с категориями
{% endblock %}

{% block content %}
<h2 class="text-center mb-4">Категории</h2>
{% if category_data %}
<div class="text-center my-4">
    <p><a href="{{url_for('admin.add_category')}}" class="btn btn-primary btn-lg">Добавить категорию</a></p>
</div>
<div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
        <thead class="thead-dark">
        <tr>
            <th scope="col">id</th>
            <th scope="col">Название</th>
            <th scope="col">Действия</th>
        </tr>
        </thead>
        <tbody>
        {% for category in category_data %}
        <tr>
            <td>{{category['category_id']}}</td>
            <td>{{category['name']}}</td>
            <td>
                <div class="ms-auto d-flex align-items-center gap-1">
                    <form method="post"
                          action="{{url_for('admin.delete_category', category_id = category['category_id'])}}"
                          onsubmit="return confirm('Вы действительно хотите удалить категорию?')">
                        {{delete_form.csrf_token}}
                        <button type="submit" class="btn btn-sm btn-danger"><span class="fa-solid fa-trash"></span>
                        </button>
                    </form>
                </div>
            </td>

        </tr>
        {% endfor %}
        </tbody>

    </table>
</div>
{% else %}
<tr>
    <td class="text-center">Категории не найдены</td>
</tr>
{% endif %}
{% endblock %}